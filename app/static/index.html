<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canadian Retrofit &amp; Rebate Finder</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="header-left">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <h1>Canadian Retrofit &amp; Rebate Finder</h1>
            </div>
        </header>

        <main class="main-content">
            <!-- Filter Panel -->
            <section class="filter-panel" id="filter-panel">
                <h2 class="filter-title">Find Rebates &amp; Financing</h2>

                <div class="filter-grid">
                    <!-- Province -->
                    <div class="filter-group">
                        <label class="filter-label" for="province-select">Province / Territory</label>
                        <select id="province-select" class="filter-select">
                            <option value="">All Provinces</option>
                        </select>
                    </div>

                    <!-- Retrofit Types -->
                    <div class="filter-group filter-group-wide">
                        <label class="filter-label">Retrofit Type</label>
                        <div class="checkbox-grid" id="retrofit-types">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <!-- Toggles -->
                    <div class="filter-group">
                        <label class="filter-label">Options</label>
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" id="active-only" checked>
                                <span class="toggle-text">Active programs only</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="income-qualified">
                                <span class="toggle-text">Income-qualified only</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button id="search-btn" class="btn-primary">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    Search Rebates
                </button>
            </section>

            <!-- Summary Bar -->
            <div class="summary-bar" id="summary-bar" style="display:none;">
                <div class="summary-item">
                    <span class="summary-number" id="summary-count">0</span>
                    <span class="summary-label">Programs Found</span>
                </div>
                <div class="summary-item">
                    <span class="summary-number" id="summary-savings">$0</span>
                    <span class="summary-label">Potential Savings</span>
                </div>
                <div class="summary-item">
                    <span class="summary-number" id="summary-financing">0</span>
                    <span class="summary-label">Financing Options</span>
                </div>
            </div>

            <!-- Results -->
            <section class="results-section" id="results-section" style="display:none;">
                <h3 class="section-heading" id="rebates-heading">Rebate Programs</h3>
                <div class="results-list" id="rebate-list">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Financing -->
            <section class="financing-section" id="financing-section" style="display:none;">
                <h3 class="section-heading">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                        <rect x="2" y="5" width="20" height="14" rx="2"></rect>
                        <line x1="2" y1="10" x2="22" y2="10"></line>
                    </svg>
                    Financing Options
                </h3>
                <div class="results-list" id="financing-list">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Empty State -->
            <div class="empty-state" id="empty-state" style="display:none;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <p class="empty-title">No programs found</p>
                <p class="empty-text">Try adjusting your filters or selecting a different province.</p>
            </div>

            <!-- Welcome State -->
            <div class="welcome-state" id="welcome-state">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="48" height="48">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <p class="welcome-title">Discover energy retrofit rebates across Canada</p>
                <p class="welcome-text">Select your province and retrofit type above, then click "Search Rebates" to find available programs.</p>
            </div>

            <!-- Loading -->
            <div class="loading-state" id="loading-state" style="display:none;">
                <div class="spinner"></div>
                <p>Searching programs...</p>
            </div>
        </main>

        <footer class="footer">
            <p>Data sourced from official government and utility program websites. Always verify details on the official program page before applying.</p>
        </footer>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
